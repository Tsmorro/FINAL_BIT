{"version":3,"file":"bit-utils.umd.js","sources":["ng://@bit/primefaces.primeng.utils/utils/objectutils.ts"],"sourcesContent":["import {SelectItem} from '../common/selectitem';\n\nexport class ObjectUtils {\n\n    public static equals(obj1: any, obj2: any, field?: string): boolean {\n        if (field)\n            return (this.resolveFieldData(obj1, field) === this.resolveFieldData(obj2, field));\n        else\n            return this.equalsByValue(obj1, obj2);\n    }\n\n    public static equalsByValue(obj1: any, obj2: any): boolean {\n        if (obj1 === obj2) return true;\n\n        if (obj1 && obj2 && typeof obj1 == 'object' && typeof obj2 == 'object') {\n            var arrA = Array.isArray(obj1)\n                , arrB = Array.isArray(obj2)\n                , i\n                , length\n                , key;\n\n            if (arrA && arrB) {\n                length = obj1.length;\n                if (length != obj2.length) return false;\n                for (i = length; i-- !== 0;)\n                    if (!this.equalsByValue(obj1[i], obj2[i])) return false;\n                return true;\n            }\n\n            if (arrA != arrB) return false;\n\n            var dateA = obj1 instanceof Date\n                , dateB = obj2 instanceof Date;\n            if (dateA != dateB) return false;\n            if (dateA && dateB) return obj1.getTime() == obj2.getTime();\n\n            var regexpA = obj1 instanceof RegExp\n                , regexpB = obj2 instanceof RegExp;\n            if (regexpA != regexpB) return false;\n            if (regexpA && regexpB) return obj1.toString() == obj2.toString();\n\n            var keys = Object.keys(obj1);\n            length = keys.length;\n\n            if (length !== Object.keys(obj2).length)\n                return false;\n\n            for (i = length; i-- !== 0;)\n                if (!Object.prototype.hasOwnProperty.call(obj2, keys[i])) return false;\n\n            for (i = length; i-- !== 0;) {\n                key = keys[i];\n                if (!this.equalsByValue(obj1[key], obj2[key])) return false;\n            }\n\n            return true;\n        }\n\n        return obj1 !== obj1 && obj2 !== obj2;\n    }\n\n    public static resolveFieldData(data: any, field: any): any {\n        if(data && field) {\n            if (this.isFunction(field)) {\n                return field(data);\n            }\n            else if(field.indexOf('.') == -1) {\n                return data[field];\n            }\n            else {\n                let fields: string[] = field.split('.');\n                let value = data;\n                for(let i = 0, len = fields.length; i < len; ++i) {\n                    if (value == null) {\n                        return null;\n                    }\n                    value = value[fields[i]];\n                }\n                return value;\n            }\n        }\n        else {\n            return null;\n        }\n    }\n\n    public static isFunction(obj: any) {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    }\n\n    public static filter(value: any[], fields: any[], filterValue: string) {\n        let filteredItems: any[] = [];\n        let filterText = this.removeAccents(filterValue).toLowerCase();\n\n        if(value) {\n            for(let item of value) {\n                for(let field of fields) {\n                    let fieldValue = this.removeAccents(String(this.resolveFieldData(item, field))).toLowerCase();\n                    if(fieldValue.indexOf(filterText) > -1) {\n                        filteredItems.push(item);\n                        break;\n                    }\n                }\n            }\n        }\n\n        return filteredItems;\n    }\n\n    public static reorderArray(value: any[], from: number, to: number) {\n        let target: number;\n        if (value && from !== to) {\n            if (to >= value.length) {\n                to %= value.length;\n                from %= value.length;\n            }\n            value.splice(to, 0, value.splice(from, 1)[0]);\n        }\n    }\n\n    public static generateSelectItems(val: any[], field: string): SelectItem[] {\n        let selectItems: SelectItem[];\n        if(val && val.length) {\n            selectItems = [];\n            for(let item of val) {\n                selectItems.push({label: this.resolveFieldData(item, field), value: item});\n            }\n        }\n\n        return selectItems;\n    }\n\n    public static insertIntoOrderedArray(item: any, index: number, arr: any[], sourceArr: any[]): void {\n        if(arr.length > 0) {\n            let injected = false;\n            for(let i = 0; i < arr.length; i++) {\n                let currentItemIndex = this.findIndexInList(arr[i], sourceArr);\n                if(currentItemIndex > index) {\n                    arr.splice(i, 0, item);\n                    injected = true;\n                    break;\n                }\n            }\n\n            if(!injected) {\n                arr.push(item);\n            }\n        }\n        else {\n            arr.push(item);\n        }\n    }\n\n    public static findIndexInList(item: any, list: any): number {\n        let index: number = -1;\n\n        if(list) {\n            for(let i = 0; i < list.length; i++) {\n                if(list[i] == item) {\n                    index = i;\n                    break;\n                }\n            }\n        }\n\n        return index;\n    }\n\n    public static removeAccents(str) {\n        if (str && str.search(/[\\xC0-\\xFF]/g) > -1) {\n            str = str\n                    .replace(/[\\xC0-\\xC5]/g, \"A\")\n                    .replace(/[\\xC6]/g, \"AE\")\n                    .replace(/[\\xC7]/g, \"C\")\n                    .replace(/[\\xC8-\\xCB]/g, \"E\")\n                    .replace(/[\\xCC-\\xCF]/g, \"I\")\n                    .replace(/[\\xD0]/g, \"D\")\n                    .replace(/[\\xD1]/g, \"N\")\n                    .replace(/[\\xD2-\\xD6\\xD8]/g, \"O\")\n                    .replace(/[\\xD9-\\xDC]/g, \"U\")\n                    .replace(/[\\xDD]/g, \"Y\")\n                    .replace(/[\\xDE]/g, \"P\")\n                    .replace(/[\\xE0-\\xE5]/g, \"a\")\n                    .replace(/[\\xE6]/g, \"ae\")\n                    .replace(/[\\xE7]/g, \"c\")\n                    .replace(/[\\xE8-\\xEB]/g, \"e\")\n                    .replace(/[\\xEC-\\xEF]/g, \"i\")\n                    .replace(/[\\xF1]/g, \"n\")\n                    .replace(/[\\xF2-\\xF6\\xF8]/g, \"o\")\n                    .replace(/[\\xF9-\\xFC]/g, \"u\")\n                    .replace(/[\\xFE]/g, \"p\")\n                    .replace(/[\\xFD\\xFF]/g, \"y\");\n        }\n      \n        return str;\n      }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAEA;QAAA;SAkMC;;;;;;;QAhMiB,kBAAM;;;;;;QAApB,UAAqB,IAAS,EAAE,IAAS,EAAE,KAAc;YACrD,IAAI,KAAK;gBACL,QAAQ,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,KAAK,CAAC,KAAK,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE;;gBAEnF,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;SAC7C;;;;;;QAEa,yBAAa;;;;;QAA3B,UAA4B,IAAS,EAAE,IAAS;YAC5C,IAAI,IAAI,KAAK,IAAI;gBAAE,OAAO,IAAI,CAAC;YAE/B,IAAI,IAAI,IAAI,IAAI,IAAI,OAAO,IAAI,IAAI,QAAQ,IAAI,OAAO,IAAI,IAAI,QAAQ,EAAE;;oBAChE,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;;oBACxB,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;;oBAC1B,CAAC;;oBACD,MAAM;;oBACN,GAAG;gBAET,IAAI,IAAI,IAAI,IAAI,EAAE;oBACd,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;oBACrB,IAAI,MAAM,IAAI,IAAI,CAAC,MAAM;wBAAE,OAAO,KAAK,CAAC;oBACxC,KAAK,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,KAAK,CAAC;wBACtB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;4BAAE,OAAO,KAAK,CAAC;oBAC5D,OAAO,IAAI,CAAC;iBACf;gBAED,IAAI,IAAI,IAAI,IAAI;oBAAE,OAAO,KAAK,CAAC;;oBAE3B,KAAK,GAAG,IAAI,YAAY,IAAI;;oBAC1B,KAAK,GAAG,IAAI,YAAY,IAAI;gBAClC,IAAI,KAAK,IAAI,KAAK;oBAAE,OAAO,KAAK,CAAC;gBACjC,IAAI,KAAK,IAAI,KAAK;oBAAE,OAAO,IAAI,CAAC,OAAO,EAAE,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;;oBAExD,OAAO,GAAG,IAAI,YAAY,MAAM;;oBAC9B,OAAO,GAAG,IAAI,YAAY,MAAM;gBACtC,IAAI,OAAO,IAAI,OAAO;oBAAE,OAAO,KAAK,CAAC;gBACrC,IAAI,OAAO,IAAI,OAAO;oBAAE,OAAO,IAAI,CAAC,QAAQ,EAAE,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;;oBAE9D,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC5B,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBAErB,IAAI,MAAM,KAAK,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM;oBACnC,OAAO,KAAK,CAAC;gBAEjB,KAAK,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,KAAK,CAAC;oBACtB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;wBAAE,OAAO,KAAK,CAAC;gBAE3E,KAAK,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,KAAK,CAAC,GAAG;oBACzB,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;oBACd,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;wBAAE,OAAO,KAAK,CAAC;iBAC/D;gBAED,OAAO,IAAI,CAAC;aACf;YAED,OAAO,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,CAAC;SACzC;;;;;;QAEa,4BAAgB;;;;;QAA9B,UAA+B,IAAS,EAAE,KAAU;YAChD,IAAG,IAAI,IAAI,KAAK,EAAE;gBACd,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;oBACxB,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC;iBACtB;qBACI,IAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;oBAC9B,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC;iBACtB;qBACI;;wBACG,MAAM,GAAa,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;;wBACnC,KAAK,GAAG,IAAI;oBAChB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;wBAC9C,IAAI,KAAK,IAAI,IAAI,EAAE;4BACf,OAAO,IAAI,CAAC;yBACf;wBACD,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;qBAC5B;oBACD,OAAO,KAAK,CAAC;iBAChB;aACJ;iBACI;gBACD,OAAO,IAAI,CAAC;aACf;SACJ;;;;;QAEa,sBAAU;;;;QAAxB,UAAyB,GAAQ;YAC7B,OAAO,CAAC,EAAE,GAAG,IAAI,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC;SAC9D;;;;;;;QAEa,kBAAM;;;;;;QAApB,UAAqB,KAAY,EAAE,MAAa,EAAE,WAAmB;;;gBAC7D,aAAa,GAAU,EAAE;;gBACzB,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,WAAW,EAAE;YAE9D,IAAG,KAAK,EAAE;;oBACN,KAAgB,IAAA,UAAA,SAAA,KAAK,CAAA,4BAAA,+CAAE;wBAAnB,IAAI,IAAI,kBAAA;;4BACR,KAAiB,IAAA,WAAA,SAAA,MAAM,CAAA,8BAAA,kDAAE;gCAArB,IAAI,KAAK,mBAAA;;oCACL,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE;gCAC7F,IAAG,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE;oCACpC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oCACzB,MAAM;iCACT;6BACJ;;;;;;;;;qBACJ;;;;;;;;;aACJ;YAED,OAAO,aAAa,CAAC;SACxB;;;;;;;QAEa,wBAAY;;;;;;QAA1B,UAA2B,KAAY,EAAE,IAAY,EAAE,EAAU;YAE7D,IAAI,KAAK,IAAI,IAAI,KAAK,EAAE,EAAE;gBACtB,IAAI,EAAE,IAAI,KAAK,CAAC,MAAM,EAAE;oBACpB,EAAE,IAAI,KAAK,CAAC,MAAM,CAAC;oBACnB,IAAI,IAAI,KAAK,CAAC,MAAM,CAAC;iBACxB;gBACD,KAAK,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACjD;SACJ;;;;;;QAEa,+BAAmB;;;;;QAAjC,UAAkC,GAAU,EAAE,KAAa;;;gBACnD,WAAyB;YAC7B,IAAG,GAAG,IAAI,GAAG,CAAC,MAAM,EAAE;gBAClB,WAAW,GAAG,EAAE,CAAC;;oBACjB,KAAgB,IAAA,QAAA,SAAA,GAAG,CAAA,wBAAA,yCAAE;wBAAjB,IAAI,IAAI,gBAAA;wBACR,WAAW,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,EAAE,IAAI,EAAC,CAAC,CAAC;qBAC9E;;;;;;;;;aACJ;YAED,OAAO,WAAW,CAAC;SACtB;;;;;;;;QAEa,kCAAsB;;;;;;;QAApC,UAAqC,IAAS,EAAE,KAAa,EAAE,GAAU,EAAE,SAAgB;YACvF,IAAG,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;;oBACX,QAAQ,GAAG,KAAK;gBACpB,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;wBAC5B,gBAAgB,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC;oBAC9D,IAAG,gBAAgB,GAAG,KAAK,EAAE;wBACzB,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;wBACvB,QAAQ,GAAG,IAAI,CAAC;wBAChB,MAAM;qBACT;iBACJ;gBAED,IAAG,CAAC,QAAQ,EAAE;oBACV,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAClB;aACJ;iBACI;gBACD,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAClB;SACJ;;;;;;QAEa,2BAAe;;;;;QAA7B,UAA8B,IAAS,EAAE,IAAS;;gBAC1C,KAAK,GAAW,CAAC,CAAC;YAEtB,IAAG,IAAI,EAAE;gBACL,KAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACjC,IAAG,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;wBAChB,KAAK,GAAG,CAAC,CAAC;wBACV,MAAM;qBACT;iBACJ;aACJ;YAED,OAAO,KAAK,CAAC;SAChB;;;;;QAEa,yBAAa;;;;QAA3B,UAA4B,GAAG;YAC3B,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE;gBACxC,GAAG,GAAG,GAAG;qBACA,OAAO,CAAC,cAAc,EAAE,GAAG,CAAC;qBAC5B,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC;qBACxB,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC;qBACvB,OAAO,CAAC,cAAc,EAAE,GAAG,CAAC;qBAC5B,OAAO,CAAC,cAAc,EAAE,GAAG,CAAC;qBAC5B,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC;qBACvB,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC;qBACvB,OAAO,CAAC,kBAAkB,EAAE,GAAG,CAAC;qBAChC,OAAO,CAAC,cAAc,EAAE,GAAG,CAAC;qBAC5B,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC;qBACvB,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC;qBACvB,OAAO,CAAC,cAAc,EAAE,GAAG,CAAC;qBAC5B,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC;qBACxB,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC;qBACvB,OAAO,CAAC,cAAc,EAAE,GAAG,CAAC;qBAC5B,OAAO,CAAC,cAAc,EAAE,GAAG,CAAC;qBAC5B,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC;qBACvB,OAAO,CAAC,kBAAkB,EAAE,GAAG,CAAC;qBAChC,OAAO,CAAC,cAAc,EAAE,GAAG,CAAC;qBAC5B,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC;qBACvB,OAAO,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;aACxC;YAED,OAAO,GAAG,CAAC;SACZ;QACP,kBAAC;KAAA;;;;;;;;;;;;"}